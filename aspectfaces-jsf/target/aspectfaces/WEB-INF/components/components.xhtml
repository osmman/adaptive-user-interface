<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
        >

    <c:choose>
        <c:when test="#{context.device == 'PHONE'}">
            <c:set var="templateRoot" value="mobile" />
        </c:when>
        <c:when test="#{userAgent.tablet == 'TABLET'}">
            <c:set var="templateRoot" value="mobile" />
        </c:when>
        <c:otherwise>
            <c:set var="templateRoot" value="html" />
        </c:otherwise>

    </c:choose>


    <ui:fragment rendered="#{componentTable}">
        <ui:include src="/WEB-INF/components/#{templateRoot}/table.xhtml"/>
    </ui:fragment>
</ui:composition>