<?xml version="1.0"?>
<?xml-stylesheet href="chrome://browser/content/browser.css" type="text/css"?>
<?xml-stylesheet href="chrome://browser/skin/" type="text/css"?>
<f:view xmlns:f="http://java.sun.com/jsf/core"
        xmlns:af="http://codingcrayons.com/aspectfaces"
        xmlns:xf="http://xulfaces.sourceforge.net/xulfaces/jsf/facelet"
        locale="#{context.language.concat('_').concat(context.country)}">
    <window
            xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
            xmlns:html="http://www.w3.org/1999/xhtml"
            xmlns:xfc="http://xulfaces.sourceforge.net/xulfaces/xul/client.xul"
            orient="horizontal"
            >

        <script type="application/javascript">
            function save(){
                triggerAction('cmd-save');
                XUL_FACES_BRIDGE.updateDOM(XUL_FACES_BRIDGE.responseXml);
                return true;
            }
        </script>

        <xf:commandset id="commandset">
            <xf:command id="cmd-save" action="#{contextController.save()}" oncommand="save()" />
        </xf:commandset>



        <af:ui instance="#{context}" edit="true"/>
        <xf:button label="save" command="cmd-save" />

        <script type="application/javascript" src="/aspectfaces-xul/js/xul-logger.js"/>
        <xf:bridge/>
    </window>

</f:view>